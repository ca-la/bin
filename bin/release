#!/bin/bash

set -o errexit
set -o nounset
set -o pipefail
set -o noglob

# Release new version
# Usage: bin/release <patch|minor|major>

usage_fail() {
  echo "Usage: bin/release <patch|minor|major>"
  exit 1
}

run() {
  semver=${1:-""}

  case "$semver" in
    patch|minor|major)
      npx cala-release "$semver"
      ;;
    *)
      usage_fail
      ;;
  esac
}

run "$@"
